<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xyz.itwill.mapper.NoticeMapper">
	<insert id="insertNotice">
		<selectKey resultType="int" keyProperty="noticeNum" order="BEFORE">
			select notice_seq.nextval
		</selectKey>
		insert into notice 
			values(#{noticeNum}, #{noticeTitle}, #{noticeContent}, #{noticeRegdate}, #{noticeStatus})
	</insert>
	
	<update id="updateNotice">
		update notice set
			noticeTitle = #{noticeTitle},
			noticeContent = #{noticeContent},
			noticeRegdate = #{noticeRegdate},
			noticeStatus = #{noticeStatus}
			where noticeNum = #{noticeNum}
		
	</update>
	
	<delete id="deleteNotice">
		delete from notice where noticeNum = #{noticeNum}
	</delete>	
	
	<select id="selectNoticeList" resultType="Notice">
		select * from notice 
			where noticeTitle like '%' || #{@param} || '%'
				or noticeContent like '%' || #{@param} || '%'
			order by noticeStatus desc, noticeRegdate
	</select>
</mapper>