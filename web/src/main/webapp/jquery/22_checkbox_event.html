<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jQuery</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<style type="text/css">
#terms {
	width: 400px;
	margin: 0 auto;
	padding: 5px 10px;
	border: 1px solid black;
}

h3 {
	text-align: center;
}

#agree {
	width: 400px;
	margin: 0 auto;
	text-align: center;
}

#agree div {
	margin: 10px;
}
</style>
</head>
<body>
	<h1>Checkbox Event</h1>
	<hr>
	<div id="terms">
		<h3>약관</h3>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
		<p>알 수 없는 내용</p>
	</div>
	
	<div id="agree">
	<form action="21_submit_event.html" method="post" id="termsForm" >
		<div>
			<input type="checkbox" name="agreeCheck" id="agreeCheck" value="0">
			약관에 동의해 주세요.
		</div>
			<button type="submit">다음</button>
			<div id="message" style="color: red;"></div>
	</form>
	</div>
		
		<script type="text/javascript">
		var check = 0;  // 0: 약관 미동의, 1 : 동의 변수로 저장
		
		// $(selector).change(callback) : 선택자로 검색된 태그의 입력값이 변환되는 이벤트가 발생되는 경우 
		// 									콜백함수를 호출하는 태그
		$("#agreeCheck").change(function() {

			// $(selector)/.is(status) : 입력태그의 상태를 비교하여 false or true 반환
			// => input 태그(type 속성값 - checkbox 또는 radio)와 select 태그(option 태그)에서만 사용 가능
			if($(this).is(":checked")) {//이벤트가 발생된 태그(checkbox 또는 radio)가 선택상태(checked)인 경우
				check=1;
				//$(selector).removeAttr(name) : 선택자로 검색된 태그의 속성을 삭제하는 메소드
				$("#btn").removeAttr("disabled");
			} else {
				check=0;
				$("#btn").attr("disabled", "disabled");
			}
			
			$(this).val(check);
		});
		
		$("#termsForm").submit(function() {
			if($("#agreeCheck").val()==0) {
				$("#message").text("약관을 읽고 반드시 동의해 주세요.");
				return false;//form 태그 미실행
			}
		});
		</script>
	</body>
</html>



















